{"version":3,"sources":["webpack:///src/app/shopping-list/shopping-list-edit/shopping-list-edit.component.ts","webpack:///src/app/shopping-list/shopping-list-edit/shopping-list-edit.component.html","webpack:///src/app/shopping-list/shopping-list.component.ts","webpack:///src/app/shopping-list/shopping-list.component.html","webpack:///src/app/shopping-list/shopping-list.module.ts","webpack:///src/app/shopping-list/shoppingList.routing.ts"],"names":["ShoppingListEditComponent","shoppingService","editMode","subscription","startedEditing","subscribe","index","editItemIndex","editedItem","getIngredientByIndex","form","setValue","name","amount","value","ingredient","updateIngredient","addIngredient","reset","deleteIngredient","unsubscribe","onAddIngredient","selector","templateUrl","styleUrls","ShoppingListComponent","ingredients","getIngredient","igChangeSub","ingredientAdded","push","next","ShoppingListModule","declarations","imports","routes","path","component","ShoppingListRouting","forChild"],"mappings":"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","file":"shopping-list-shopping-list-module-es5.js","sourcesContent":["import { Component, EventEmitter, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\n\nimport { Ingredient } from 'src/app/shared/ingredient.model';\nimport { ShoppingServiceService } from '../shopping-service.service';\n\n@Component({\n  selector: 'app-shopping-list-edit',\n  templateUrl: './shopping-list-edit.component.html',\n  styleUrls: ['./shopping-list-edit.component.css']\n})\nexport class ShoppingListEditComponent implements OnInit, OnDestroy {\n  // @Output() ingredientAdded = new EventEmitter<Ingredient>();\n  @ViewChild(\"form\", { static : false}) form : NgForm;\n\n  subscription : Subscription;\n  editMode = false;\n  editItemIndex : number;\n  editedItem : Ingredient;\n\n  constructor(private shoppingService : ShoppingServiceService) { }\n\n  ngOnInit(): void {\n    this.subscription =  this.shoppingService.startedEditing.subscribe(\n      (index : number) => {\n       this.editMode = true; \n       this.editItemIndex = index;\n       this.editedItem = this.shoppingService.getIngredientByIndex(index);\n       this.form.setValue({\n         name : this.editedItem.name,\n         amount : this.editedItem.amount\n       })\n      }\n    );\n  }\n\n  onAddIngredient(form : NgForm){\n    const value = form.value;\n    const ingredient = new Ingredient(value.name,value.amount);\n    if(this.editMode === true){\n      this.shoppingService.updateIngredient(this.editItemIndex, ingredient);\n    }\n    else{\n      this.shoppingService.addIngredient(ingredient);\n    }\n    this.editMode = false;\n    form.reset();\n  }\n\n  onDelete(){\n    this.shoppingService.deleteIngredient(this.editItemIndex);\n    this.editMode=false;\n    this.form.reset();\n  }\n\n\n  ngOnDestroy(){\n    this.subscription.unsubscribe();\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <form (ngSubmit)=\"onAddIngredient(form)\" #form=\"ngForm\"> \n            <div class=\"row\">\n                <div class=\"col-sm-5 form-group\">\n                    <label for=\"name\">Name</label>\n                    <input \n                    type=\"text\" \n                    id=\"name\" \n                    class=\"form-control\"\n                    name=\"name\"\n                    ngModel \n                    required\n                    >\n                </div>\n                <div class=\"col-sm-2 form-group\">\n                    <label for=\"amount\">Amount</label>\n                    <input \n                    type=\"number\"\n                    id=\"amount\" \n                    class=\"form-control\"\n                    name=\"amount\"\n                    ngModel \n                    required\n                    [pattern] = \"'[1-9]+[0-9]*'\"\n                    >\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <button\n                    class=\"btn btn-success\" \n                    type=\"submit\" \n                    [disabled]=\"!form.valid\"\n                    >{{ editMode ? \"Update\" : \"Add\" }}</button>\n                    <button \n                    class=\"btn btn-danger\" \n                    type=\"button\" \n                    (click)=\"onDelete()\"\n                    *ngIf=\"editMode\"\n                    >Delete</button>\n                    <button \n                    class=\"btn btn-primary\" \n                    type=\"button\" \n                    (click)=\"form.reset();editMode=false\"\n                    >Clear</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Ingredient } from '../shared/ingredient.model';\nimport { ShoppingServiceService } from './shopping-service.service';\n\n@Component({\n  selector: 'app-shopping-list',\n  templateUrl: './shopping-list.component.html',\n  styleUrls: ['./shopping-list.component.css']\n})\nexport class ShoppingListComponent implements OnInit, OnDestroy {\n  ingredients : Ingredient[];\n  private igChangeSub : Subscription;\n\n  constructor(private shoppingService : ShoppingServiceService) { }\n\n  ngOnInit(): void {\n    this.ingredients = this.shoppingService.getIngredient();\n    this.igChangeSub = this.shoppingService.ingredientAdded.subscribe(\n      (ingredients : Ingredient[]) => {\n        this.ingredients = ingredients;\n      }\n    )\n  }\n\n  afterIngredientAdded(ingredient : Ingredient){\n    this.ingredients.push(ingredient)\n  }\n\n  onEditItem(index : number){\n    this.shoppingService.startedEditing.next(index);\n  }\n\n  ngOnDestroy() : void{\n    this.igChangeSub.unsubscribe();\n  }\n}\n"," <div class=\"row\">\n    <div class=\"col-md-10\">\n        <app-shopping-list-edit></app-shopping-list-edit>\n        <ul class=\"list-group\">\n            <a class=\"list-group-item\" *ngFor=\"let ingredient of ingredients; let i = index\" \n               (click) = \"onEditItem(i)\" >\n                {{ingredient.name}} ({{ingredient.amount}})\n            </a>\n        </ul>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShoppingListEditComponent } from './shopping-list-edit/shopping-list-edit.component';\nimport { ShoppingListComponent } from './shopping-list.component';\nimport { FormsModule } from '@angular/forms';\nimport { ShoppingListRouting } from './shoppingList.routing';\n\n@NgModule({\n  declarations: [\n    ShoppingListComponent,\n    ShoppingListEditComponent,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ShoppingListRouting\n  ]\n})\nexport class ShoppingListModule { }\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { ShoppingListComponent } from \"./shopping-list.component\";\r\n\r\n\r\nconst routes : Routes = [\r\n    { path : '', component : ShoppingListComponent},\r\n]\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],   \r\n    // exports: [RouterModule]\r\n})\r\nexport class ShoppingListRouting{\r\n\r\n}"]}